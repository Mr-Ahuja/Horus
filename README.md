# Horus

Live Site: https://horus.thechosenone.in/

Overview
- Horus is a lightweight, browser-based 1:1 calling app built on WebRTC with ScaleDrone signaling. It is fully static (no backend server) and can be hosted on any static host; this repo uses Firebase Hosting via GitHub Actions.

Features
- Two-person rooms (capacity limited to 2)
- Auto-generate or enter a room code; shareable URL with copy link button
- Mic and camera toggles, end-call button
- Device selection (mic/camera) and audio output target switching (when supported)
- Microphone level indicator
- Responsive, mobile-friendly UI with animated landing screen

Quickstart (local)
- Serve the folder as a static site on localhost (for example: `npx serve .` or `python -m http.server`).
- Or open `index.html` directly in a modern browser. Note: camera/mic access requires a secure context (https or localhost); `file://` may not work in all browsers.
- Create a room or enter a room code; share the URL (with hash) with the other participant.

Configuration
- ScaleDrone Channel ID is configured in `script.js` (`new ScaleDrone('yiS12Ts5RdNhebyM')`). Replace this with your own channel ID if you fork the project or use a different ScaleDrone project.
- No build step is required. A `env.js` may be generated by CI for Firebase variables; the app currently does not require them at runtime.

Deployment
- Hosted on Firebase Hosting. Config files: `.firebaserc`, `firebase.json`.
- `firebase.json` ignores deployment of non-app files like `README.md`, `.git/**`, and `index.php`.
- GitHub Actions:
  - `.github/workflows/ci.yml` validates static files on PRs and on non-`main` pushes.
  - `.github/workflows/firebase-deploy.yml` deploys previews on PRs (same-repo) and production on `main` pushes.

GitHub Actions secrets and variables
- Secrets (Repository secrets):
  - `FIREBASE_TOKEN` â€” Firebase CI token used for deployments only.
- Variables (Actions variables):
  - `FIREBASE_API_KEY`
  - `FIREBASE_AUTH_DOMAIN`
  - `FIREBASE_PROJECT_ID`
  - `FIREBASE_STORAGE_BUCKET`
  - `FIREBASE_MESSAGING_SENDER_ID`
  - `FIREBASE_APP_ID`
  - `FIREBASE_MEASUREMENT_ID`

How envs are injected
- The deploy workflow generates `env.js` during the job from the above variables. `index.html` loads `env.js` if present.

Tech stack
- WebRTC (native browser APIs)
- ScaleDrone (signaling)
- Vanilla HTML/CSS/JS (no build step)

